#!/usr/bin/env python

from gnuplot import *

"""
Experiment setup
24 threads, 1 server, 15 clients, 1 coroutine per client
`cmd: ./run.py  -st 24 -cc 1 -w ycsba -t 24  -sa "-db_type ycsbh -ycsb_num 10000000" -ca='-total_accts=10000000 -need_hash -eval_type=sc -tree_depth=6' -e 60 -n 15 -c s -a "ycsb" -s val00`

learned.toml
`
[[stages]]
type = "lr"
parameter = 1

[[stages]]
type = "lr"
## typically, they use much larger models
#parameter = 400000
parameter = 1000000
`

"""
xstore = {
    1 : (4068829.53,5.79393),
    15: (37064444.60,9.56614),
    156: (44124052.52,46.7387),
    }

xstore = {
    11 : (4358592.24,5.40697),
    21 : (8392118.61,5.72371),
    41 : (15679545.46,5.98337),
    61 : (22518227.19,6.54188),
    62 : (36094429.52,7.66939),
    64 : (45713686.13,12.3768),
    66 : (46462356.47,18.988),
    68 : (46185615.21,24.5132),
    }

xstore_variable = {

    }

rpc = {
    1 : (5071167.91,4.55084),
    15 : (23103220.70,15.4007),
    156 : ( 23122053.10,86.3701),
    }

rpc = {
    11 : (5734329.42,3.96524),
    21 : (10744753.33,4.22778),
    41 : (16925508.93,5.57406),
    61 : (21340603.00,6.74118),
    62 : (27116286.11,10.8639),
    64 : (28605154.85,21.3223),
    66 : (27150622.37,33.2099),
    68 : (28998179.91,41.6396),
    }

btree = {
    1 : (2146156.93,11.1802),
    15 : (10615009.45,26.1763),
    156 : (13711055.20,145.911),
}

btree = {
    11 : (2201897.95,10.9916),
    21 : (4073176.40,11.3022),
    41 : (7383609.85,13.026),
    61 : (9507040.90,14.6244),
    62 : (12343050.08,23.2587),
    64 : (13788001.30,41.8952),
    66 : (14067082.50,62.7285),
    68 : (14073262.71,82.9725),
    }

ylim = 42

def main():
    # convert the results to gnuplot format
    output_res_2("ycsba",xstore,rpc,btree)

if __name__ == "__main__":
    main()
